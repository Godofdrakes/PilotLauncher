<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:local="clr-namespace:PilotLauncher.PropertyGrid">

	<local:PropertyGridTemplateSelector x:Key="PilotLauncher.PropertyGrid.TemplateSelector">
		<local:PropertyGridTemplate>
			<DataTemplate DataType="{x:Type local:PropertyGridItem}">
				<TextBlock Text="{Binding TextValue, Mode=OneWay}" />
			</DataTemplate>
		</local:PropertyGridTemplate>
	</local:PropertyGridTemplateSelector>

	<Style x:Key="PilotLauncher.PropertyGrid.DataGridStyle" TargetType="DataGrid"
		BasedOn="{StaticResource {x:Type DataGrid}}">
		<Setter Property="AutoGenerateColumns" Value="False" />
		<Setter Property="IsReadOnly" Value="True" />
	</Style>

	<ControlTemplate x:Key="PilotLauncher.PropertyGrid.ControlTemplate"
		TargetType="local:PropertyGrid">
		<DataGrid x:Name="DataGrid"
			Style="{StaticResource PilotLauncher.PropertyGrid.DataGridStyle}"
			ItemsSource="{Binding RelativeSource={RelativeSource TemplatedParent},
				Path=PropertyItems, Mode=OneWay}">
			<DataGrid.Columns>
				<DataGridTextColumn Header="Name" Width="Auto"
					Binding="{Binding PropertyName}" />
				<DataGridTextColumn Header="Type" Width="Auto"
					Binding="{Binding PropertyType.Name}" />
				<DataGridTemplateColumn Header="Value" Width="*"
					CellTemplateSelector="{StaticResource PilotLauncher.PropertyGrid.TemplateSelector}" />
			</DataGrid.Columns>
		</DataGrid>
	</ControlTemplate>

	<Style TargetType="local:PropertyGrid">
		<Setter Property="Template" Value="{StaticResource PilotLauncher.PropertyGrid.ControlTemplate}" />
	</Style>

</ResourceDictionary>